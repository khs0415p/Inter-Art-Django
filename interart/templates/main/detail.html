{% extends 'base.html' %}
{% block content %}
{% include 'navbar.html' %}
{% comment %} 제목 작성자
내용 및 사진
[  ] 댓글 추가
작성자 : 댓글 내용
 {% endcomment %}
 <div class="pt-5 container">
    <div class="top">
        <h1>제목 : {{ post.title }}</h1>
        <p>작성자 : {{ post.user }}</p>
    </div>
    {% if post.image %}
        <div class="image-box" style="width 80%; height: auto">
            <img src="{{ post.image.url }}" alt="" style="width: 100%; height: 100%">
        </div>
    {% endif %}
    <div class="middle">
        {{ post.content }}
        <p>여기까지가 본문 내용</p>
    </div>
    <div class="like-box">
        <form action="{% url 'main:likes' post.id %}" method="POST">
            {% csrf_token %}
            {% if user in post.like_user.all %}
            <input type="submit" value="좋아요 취소">
            {% else %}
            <input type="submit" value="좋아요">
            {% endif %}
            {{ post.like_user.count }}
        </form>
    </div>
    <div class="comment-box">
        <form action="{% url 'main:detail' post.id %}" method="POST">
            {% csrf_token %}
            <input {% if not user.is_authenticated %} disabled {% endif %} type="text" name="comment" placeholder="댓글을 입력해주세요.">
            <input {% if not user.is_authenticated %} disabled {% endif %} type="submit" value="댓글등록">
        </form>
    </div>
    <div class="comment-list">
        <p>댓글 수: {{ post.comment_set.count }}</p>
        {% for item in post.comment_set.all %}
        <div class="comment">{{ item.user}} {{ item.comment }}</div>
        {% endfor %}
    </div>
</div>
{% endblock %}